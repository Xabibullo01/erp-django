{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ERP System – Sign in</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <!-- Tailwind CSS (JIT CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Custom accent colour -->
  <script>
    tailwind.config = { theme: { extend: { colors: { brand: '#2563eb' } } } }
  </script>

  <!-- Local overrides -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body class="min-h-screen bg-gradient-to-br from-brand/90 to-black flex items-center justify-center
             px-4 sm:px-6 lg:px-8 text-slate-800 dark:text-slate-200">
  <main class="relative w-full max-w-md rounded-2xl backdrop-blur-md bg-white/60 dark:bg-slate-900/70
               ring-1 ring-white/30 shadow-xl shadow-black/20 p-8 pt-12">
    <!-- floating logo -->
    <div class="absolute -top-10 left-1/2 -translate-x-1/2 bg-brand rounded-full h-20 w-20 grid place-items-center
                shadow-lg shadow-brand/50 text-white text-4xl">
      <!-- Heroicon: lock-closed -->
      <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24"
           stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
              d="M16 10V8a4 4 0 10-8 0v2M5 10h14a2 2 0 012 2v7a2 2 0 01-2 2H5a2 2 0 01-2-2v-7a2 2 0 012-2z"/>
      </svg>
    </div>

    <h1 class="mb-8 text-center text-2xl font-extrabold tracking-tight text-brand drop-shadow">
      ERP System Sign In
    </h1>

    {% if form.errors %}
      <div class="mb-6 rounded-lg bg-red-100/80 dark:bg-red-900/60 p-3 text-center
                  text-sm font-semibold text-red-800 dark:text-red-200 ring-1 ring-red-300/60">
        Login yoki parol noto‘g‘ri – qaytadan urinib ko‘ring.
      </div>
    {% endif %}

    <form method="post" class="space-y-6" autocomplete="off" novalidate>
      {% csrf_token %}

      <!-- username -->
      <div>
        <label for="id_username" class="block mb-1 font-medium">Foydalanuvchi nomi</label>
        <div class="relative">
          <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-brand">
            <!-- user icon -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="currentColor">
              <path
                d="M5.121 17.804A9 9 0 1118.5 5.163M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
            </svg>
          </span>
          {{ form.username|add_class:"pl-10 pr-3 py-2 w-full rounded-lg bg-white/70 focus:bg-white/90 focus:ring-2 focus:ring-brand focus:outline-none border-transparent placeholder-slate-500 dark:bg-slate-800/70 dark:focus:bg-slate-800"}}
        </div>
      </div>

      <!-- password -->
      <div>
        <label for="id_password" class="block mb-1 font-medium">Parol</label>
        <div class="relative">
          <span class="absolute inset-y-0 left-0 flex items-center pl-3 text-brand">
            <!-- key icon -->
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                 stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round"
                    d="M12 15l9-9m0 0a6 6 0 11-9 9m9-9L15 6"/>
            </svg>
          </span>
          {{ form.password|add_class:"pl-10 pr-3 py-2 w-full rounded-lg bg-white/70 focus:bg-white/90 focus:ring-2 focus:ring-brand focus:outline-none border-transparent placeholder-slate-500 dark:bg-slate-800/70 dark:focus:bg-slate-800"}}
        </div>
      </div>

      <!-- remember -->
      <div class="flex items-center gap-2">
        {{ form.remember_me|add_class:"h-4 w-4 rounded text-brand focus:ring-brand"}}
        <label for="{{ form.remember_me.id_for_label }}" class="text-sm select-none">
          Eslab qolish
        </label>
      </div>

      <!-- submit -->
      <button type="submit"
              class="w-full py-2.5 rounded-lg bg-brand hover:bg-brand/90 text-white font-semibold
                     shadow-md shadow-brand/40 transition disabled:opacity-40 disabled:cursor-not-allowed">
        Kirish
      </button>
    </form>

    <p class="mt-8 text-center text-xs text-slate-600 dark:text-slate-400 select-none">
      Platformaga kirish uchun ruxsat yo‘qmi? Administratorga murojaat qiling.
    </p>
  </main>
</body>
</html>